<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Galeria realizacji NA Haft Studio – hafty komputerowe, logo, imiona, projekty indywidualne i firmowe.">
  <title>Realizacje | NA Haft Studio</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="header-placeholder"></div>
  <script>
    fetch("header.html")
      .then(res => res.text())
      .then(data => {
        document.getElementById("header-placeholder").innerHTML = data;
      });
  </script>

  <main>
    <section class="preview-section">
      <h1>Nasze realizacje</h1>
      <p>Zobacz przykłady wykonanych haftów — od klasycznych logotypów po złożone projekty artystyczne.</p>
      <div class="preview-gallery" id="gallery"></div>
    </section>
  </main>

  <div class="lightbox" id="lightbox">
    <button class="close-btn" onclick="closeLightbox()">&times;</button>
    <button class="prev-btn" id="prevBtn" onclick="prevImage()">&#10094;</button>
    <img src="" alt="Podgląd" id="lightbox-img">
    <button class="next-btn" id="nextBtn" onclick="nextImage()">&#10095;</button>
  </div>

  <footer>
    &copy; 2025 NA Haft Studio – <a href="mailto:kontakt@nahaft.pl">kontakt@nahaft.pl</a>
  </footer>

  <script>
    const gallery = document.getElementById("gallery");
    const lightbox = document.getElementById("lightbox");
    const lightboxImg = document.getElementById("lightbox-img");
    const nextBtn = document.getElementById("nextBtn");
    const prevBtn = document.getElementById("prevBtn");
    let images = [];
    let currentIndex = 0;

    for (let i = 99; i >= 1; i--) {
      const img = new Image();
      img.src = `realizacje/${i}.jpg`;
      img.alt = `Realizacja ${i}`;
      img.onload = () => {
        images.push(img.src);
        const el = document.createElement("img");
        el.src = img.src;
        el.alt = img.alt;
        el.addEventListener("click", () => openLightbox(images.length - 1));
        gallery.insertBefore(el, gallery.firstChild);
      };
    }

    function openLightbox(index) {
      currentIndex = index;
      lightboxImg.src = images[currentIndex];
      updateButtons();
      lightbox.classList.add("active");
    }

    function closeLightbox() {
      lightbox.classList.remove("active");
    }

    function nextImage() {
      if (currentIndex < images.length - 1) {
        currentIndex++;
        lightboxImg.src = images[currentIndex];
        updateButtons();
      }
    }

    function prevImage() {
      if (currentIndex > 0) {
        currentIndex--;
        lightboxImg.src = images[currentIndex];
        updateButtons();
      }
    }

    function updateButtons() {
      prevBtn.classList.toggle("disabled", currentIndex === 0);
      nextBtn.classList.toggle("disabled", currentIndex === images.length - 1);
    }
  </script>
</body>
</html>
